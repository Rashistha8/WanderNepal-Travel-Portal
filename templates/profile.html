{% extends "base.html" %}
{% block title %}My Profile{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto px-6 py-12">

    <div class="bg-white shadow-2xl rounded-3xl p-10">

        <h1 class="text-3xl font-bold mb-8 text-gray-800">My Profile</h1>

        <form method="POST" enctype="multipart/form-data" class="space-y-6">

            <!-- Profile Image -->
            <div class="text-center">
                <img src="{{ url_for('static', filename='uploads/' + (user.profile_image or 'default.jpg')) }}"
                     class="w-32 h-32 rounded-full mx-auto object-cover shadow-lg mb-4">
                <input type="file" name="profile_image"
                       class="block mx-auto text-sm text-gray-600">
            </div>

            <!-- Username -->
            <div>
                <label class="block text-gray-700 font-semibold mb-2">Username</label>
                <input type="text" name="username" value="{{ user.username }}"
                       class="w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 outline-none">
            </div>

            <!-- Email (Read Only) -->
            <div>
                <label class="block text-gray-700 font-semibold mb-2">Email</label>
                <input type="email" value="{{ user.email }}" readonly
                       class="w-full border bg-gray-100 rounded-xl px-4 py-3">
            </div>

            <!-- Phone -->
            <div>
                <label class="block text-gray-700 font-semibold mb-2">Phone Number</label>
                <input type="text" name="phone" value="{{ user.phone or '' }}"
                       class="w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 outline-none">
            </div>

            <!-- Address -->
            <div>
                <label class="block text-gray-700 font-semibold mb-2">Address</label>
                <textarea name="address"
                          class="w-full border rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 outline-none">{{ user.address or '' }}</textarea>
            </div>

            <!-- Submit -->
            <button type="submit"
                    class="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-xl font-semibold transition">
                Save Changes
            </button>

        </form>
    </div>

</div>
{% endblock %}